 <div class="form">
    <form class="search-form" [formGroup]="formGroup" (validSubmit)="getOpinion()">
      <div class="form-group" [customErrorMessages]="customErrorMessages">
        <label for="name">Lekarz</label>
        <input type="text" formControlName="name" class="form-control" placeholder="Lekarz"/>
        <button type="click" class="btn btn-primary">Wyświetl szczegóły</button>
        <div class="t-Region-headerItems--button">
          <button type="button"
                  class="btn btn-primary"

                  data-toggle="modal"
                  data-target="#createOpinionModal">
            <fa name="plus"></fa> Dodaj opinię
          </button>
        </div>
      </div>
    </form>

    <div class="report-container">
      <div *ngIf="opinion">
        <div class="t-Region">
          <div class="t-Region-header">
            <div class="t-Region-headerItems--title">
              Opis
            </div>

          </div>
          <div class=t-Region-body>

            <div  class="report-container-inner">
              <div class="table-responsive">
                <table id="readersTable" class="table table-hover">
                  <thead>
                  <tr>
                    <th scope="col">Ocena</th>
                    <th scope="col">Treść opinii</th>
                    <th scope="col">Data wystawienia</th>
                    <th scope="col">Wystawił</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr *ngFor="let opinion of opinion" >
                    <td>{{opinion.rate}}</td>
                    <td>{{opinion.opinion}}</td>
                    <td>{{opinion.filingDate}}</td>
                    <td>{{opinion.name.firstName}} {{opinion.name.surname}}</td>
                  </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>


  <div class="modal fade" id="createOpinionModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Dodaj opinię</h5>
          <button type="button" sclass="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-md-12">
              <form [formGroup]="formGroupModal" (validSubmit)="createOpinion()">
                <div class="form-group" [customErrorMessages]="customErrorMessages">
                  <ng-select [items]="doctorsArray"
                             bindLabel="name.surname"
                             bindValue="id"
                             placeholder="Wybierz lekarza"
                             [(ngModel)]="selectedDoctorId"
                             formControlName="doctorId">
                  </ng-select>
                </div>
                <!--<div class="form-group" [customErrorMessages]="customErrorMessages">-->
                  <!--<label class="control-label">Ocena</label>-->
                  <!--<input type="text" class="form-control" formControlName="rate">-->
                <!--</div>-->
                <div class="form-group" [customErrorMessages]="customErrorMessages">
                  <ng-select [items]="opinionMock"
                             bindLabel="name"
                             bindValue="id"
                             placeholder="Ocena"
                             [(ngModel)]="selectedOpinionId"
                             formControlName="rate">
                  </ng-select>
                </div>

                <div class="form-group" [customErrorMessages]="customErrorMessages">
                  <label class="control-label">Opinia</label>
                  <input type="text" class="form-control" formControlName="opinion">
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary left" data-dismiss="modal">Zamknij</button>
                  <button type="submit" class="btn btn-primary right" >
                    <fa name="save"></fa> Zapisz
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

